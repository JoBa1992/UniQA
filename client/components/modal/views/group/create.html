<div class="form-group" ng-class="{ 'has-success': form.name.$valid && submitted,'has-error': form.name.$invalid && submitted }">
  <label>Name</label>
  <input type="text" name="name" class="form-control" ng-model="user.name" required/>
  <p class="help-block" ng-show="form.name.$error.required && submitted">A name is required</p>
</div>
<div class="form-group" ng-class="{ 'has-success': user.role!='Select Role' && submitted,'has-error': user.role=='Select Role' && submitted }">
  <label>Account Type</label>
  <div class="dropdown reg-dropdown">
    <button class="btn btn-inverse dropdown-toggle form-control" style="text-transform: capitalize;" name="type" ng-model="roles" type="button" data-toggle="dropdown">{{user.role}}
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
      <li>
        <a ng-repeat="roles in roles" ng-click="userRoleDropdownSel(roles)" style="text-transform: capitalize;">{{roles}}</a>
      </li>
    </ul>
  </div>
  <p class="help-block" ng-show="user.role=='Select Role' && submitted">Please select a user type</p>
  <p class="help-block" ng-show="form.roles.$error.mongoose">{{ errors.roles }}</p>
</div>
<div class="form-group" ng-class="{ 'has-success': user.department!='Select Department' && submitted,'has-error': user.department=='Select Department' && submitted }">
  <label>Department</label>
  <div class="dropdown reg-dropdown">
    <button class="btn btn-inverse dropdown-toggle form-control" name="department" type="button" data-toggle="dropdown">{{user.department}}
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu scrollable-menu" role="menu">
      <li ng-repeat="(key,val) in departments">
        <a class="dropdown-header disabled dropdown-header-custom" ng-click="$event.preventDefault()">{{key}}</a>
        <a ng-repeat="subVals in departments[key]" ng-click="depDropdownSel(subVals)">{{departments[key][$index]}}</a>
      </li>
    </ul>
  </div>
  <p class="help-block" ng-show="user.department=='Select Department' && submitted">Please select a department</p>
  <p class="help-block" ng-show="form.user.department.$error.mongoose">{{ errors.user.department }}</p>
</div>
<div class="form-group" ng-class="{ 'has-success': form.email.$valid && submitted,'has-error': form.email.$invalid && submitted }">
  <label>Email</label>
  <div class="input-group">
    <input type="text" name="email" class="form-control" aria-describedby="basic-addon2" ng-model="user.email" required mongoose-error>
    <span class="input-group-addon" id="basic-addon2">{{uniEmail}}</span>
  </div>
  <p class="help-block" ng-show="form.email.$error.email && submitted">Email address provided does not match the department format</p>
  <p class="help-block" ng-show="form.email.$error.required && submitted">Please enter your email address</p>
  <p class="help-block" name="emailVal" ng-show="form.email.$error.mongoose">{{ errors.email }}</p>
</div>
<div class="form-group" ng-class="{ 'has-success': form.passcode.$valid && submitted,'has-error': form.passcode.$invalid && submitted }">
  <label>Access Code</label>
  <input type="passcode" name="passcode" class="form-control" ng-model="user.passcode" value="{{user.passcode}}" maxlength=10 required readonly mongoose-error/>
  <p class="help-block" ng-show="(form.passcode.$error.minlength || form.passcode.$error.required) && submitted">Passcodes are 10 characters long.</p>
  <p class="help-block" ng-show="form.passcode.$error.mongoose">{{ errors.passcode }}</p>
</div>