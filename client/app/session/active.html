<div ng-include="'components/navbar/navbar.html'"></div>
<div>
  <div class="container-full" id="lecture-fullscreen" style="margin-top:{{lectureHeightMarginTop}};background-color:#8DB7D2;">
    <div class="row" style="margin:0;padding:0;height:{{lectureHeight + 'px'}}" id="lectureView">
      <div class="col-xs-12 col-sm-12 {{presViewSizeMd}} {{presViewSizeLg}} presentation-view" style="display:inline-block;padding:0;position:relative;">
        <div ng-show="!init" style="width:100%;left:50%;margin-left:-50%;text-align:center;position:absolute;height:{{lectureHeight + 'px'}};top:50%;margin-top:-{{lectureHeight/8 + 'px'}}">
          <div loading></div>
        </div>
        <a ng-click="toggleFullScreen()" class="btn btn-warning btn-sm" style="position:absolute;top:14px;right:{{toggleBtnPosRight}};">
          <i class="fa {{toggleFullScreenIcon}}"></i>
        </a>
        <a ng-click="showQrModal()" class="btn btn-warning btn-sm" style="position:absolute;bottom:14px;left:{{toggleBtnPosRight}};">
          <span class="glyphicon glyphicon-qrcode"></span>
        </a>
        <object id="lecture" type="text/html" data="{{lecture.url}}" style="width:100%;height:{{lectureHeight + 'px'}}"></object>
        <a ng-click="toggleQuestions()" class="btn btn-warning btn-sm" style="position:absolute;bottom:14px;right:{{toggleBtnPosRight}};">
          <i class="fa {{hideQuestionIcon}}">
            <span ng-if="hideQuestions">
              <strong>{{questionIconNumber}}</strong>
            </span>
          </i>
        </a>
      </div>

      <div ng-class="{ 'hidden': hideQuestions }" class="col-xs-12 col-sm-12 col-md-3 col-lg-3 question-container" id="lectureQuestions">
        <div ng-show="!init" style="width:100%;left:50%;margin-left:-50%;text-align:center;position:absolute;height:{{lectureHeight + 'px'}};top:50%;margin-top:-{{lectureHeight/8 + 'px'}}">
          <div loading></div>
        </div>
        <div class="question-head-container">
          <div class="question-head">
            <h3>Questions</h3>
          </div>
        </div>
        <div class="question-feed" ng-class="{'question-feed-blur': !init}" style="height:{{lectureHeight-70 + 'px'}} " scroll-bottom="lecture.questions">
          <h5 style="color:#FFA700;">Welcome to
            {{lecture.title}}</h5>
          <div ng-repeat="item in lecture.questions">
            <span ng-if="item.asker.role=='admin' && !item.anon" class="">
              <i class="fa fa-graduation-cap text-warning pull-left" style="padding-top:.65em;"></i>
            </span>
            <a ng-if="!item.anon" class="" style="display:inline-block;">
              {{item.asker.name}}:
              <span ng-if="(item.time|date: 'yyyy-MM-dd') == (moment()._d| date: 'yyyy-MM-dd')" tooltip="{{item.time| date : 'HH:mm'}}" tooltip-trigger tooltip-animation="false" tooltip-placement="top" ng-click="something()">{{item.request}}</span>
              <span ng-if="(item.time|date: 'yyyy-MM-dd') != (moment()._d| date: 'yyyy-MM-dd')" tooltip="{{item.time| date : 'dd/MM/yyyy HH:mm'}}" tooltip-trigger tooltip-animation="false" tooltip-placement="top" ng-click="something()">{{item.request}}</span>
            </a>
            <a ng-if="item.anon" style="display:inline-block;">
              anon:
              <span ng-if="(item.time|date: 'yyyy-MM-dd') == (moment()._d| date: 'yyyy-MM-dd')" tooltip="{{item.time| date : 'HH:mm'}}" tooltip-trigger tooltip-animation="false" tooltip-placement="top" ng-click="something()">{{item.request}}</span>
              <span ng-if="(item.time|date: 'yyyy-MM-dd') != (moment()._d| date: 'yyyy-MM-dd')" tooltip="{{item.time| date : 'dd/MM/yyyy HH:mm'}}" tooltip-trigger tooltip-animation="false" tooltip-placement="top"></span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 presentation-view" style="padding:0;position:relative;">
        <h3 class="" style="padding-left:4px;">Information</h3>
        <hr class="resource-hr">

        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <i class="fa fa-quote-left"></i>
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <p>{{lecture.desc}}</p>
            <p></p>
          </div>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:.4em;">
          <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3" style="padding:0">
            <i class="fa fa-clock-o"></i>
            <span style="padding-left:.4em;">{{lecture.runTime}}</span>
          </div>
          <div>
            <i class="fa fa-users"></i>
            <div ng-repeat="user in lecture.collaborators" style="display:inline-block;">
              <a style="display:inline-block;" href="#">{{user}}
              </a>
              <span style="padding:0;margin:0;" ng-if="!$last">,&nbsp;</span>
            </div>
            <!-- <div style="padding-left:.4em;display:inline-block;">
              <a ng-repeat="user in lecture.collaborators" style="padding:0;margin:0;" href="#">{{user}}
                <span style="padding:0;margin:0;" ng-if="!$last">,</span>
              </a>
            </div> -->
          </div>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:1.2em;">
          <i class="fa fa-pencil-square-o"></i>
          <span ng-class="{'text-danger': ((lecture.registered.length/lecture.expected)*100 < 50), 'text-warning': ((lecture.registered.length/lecture.expected)*100 >= 50 && (lecture.registered.length/lecture.expected)*100 < 75), 'text-success': ((lecture.registered.length/lecture.expected)*100 >= 75)}" style="padding-left:.4em;">({{lecture.registered.length}}/{{lecture.expected}})
            {{(lecture.registered.length/lecture.expected)*100| number:2}}%</span>
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
              <div ng-repeat="user in lecture.registered" style="display:inline-block;">
                <a style="color:#343D48;padding:0;margin:0;">{{user}}</a>
                <span style="padding:0;margin:0;" ng-if="!$last">,&nbsp;</span>
              </div>
              <!-- <a href="#" ng-repeat="user in lecture.registered" style="padding:0;margin:0;">{{user}}
                <span style="padding:0;margin:0;" ng-if="!$last">,</span>
              </a> -->
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <div class="container" style="margin-top:2em;margin-bottom:3em;">
    <div class="row" style="">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 presentation-view" style="padding:0;position:relative;">
        <h3 class="" style="padding-left:4px;">Resources</h3>
        <hr class="resource-hr">
        <a ng-repeat="item in lecture.attachments" target="_blank" href="{{item.loc}}" style="padding:.5em .3em .3em; margin:0 .4em;text-decoration:none;">
          <i class="fa fa-file-{{item.type}}-o fa-4x"></i>
        </a>
      </div>
    </div>
  </div>

  <div class="container" style="margin-top:2em;margin-bottom:4em;">
    <div class="row" style="">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 presentation-view" style="padding:0;position:relative;">
        <h3 class="" style="padding-left:4px;">Series</h3>
        <hr class="resource-hr">
        <p>Show this lecture as apart of the entire lecture series (weeks)</p>
      </div>
    </div>
  </div>
</div>

<!-- FOOTER -->
<div ng-include="'components/footer/footer.html'"></div>
<!-- /FOOTER -->