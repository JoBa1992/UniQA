<div ng-include="'components/page-header/page-header.html'"></div>

<div class="container header-margin-offset">
  <div class="row" ng-repeat="lecture in lectures">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 presentation-view" style="">
      <a href="#" ng-click="lecture.preview!== null? openPreviewLectureModal(lecture):null" class="col-xs-3 col-sm-3 col-md-3 col-lg-3 visible-sm visible-md visible-lg" style="padding:0;" ng-class="{'lecture-no-preview' : !lecture.preview, 'lecture-preview' : lecture.preview}" ng-mouseenter="lecture.preHover = true" ng-mouseleave="lecture.preHover = false">
        <h5 ng-if="!lecture.preview" style="width:100%;text-align:center;margin:6.94em 0;">No Preview Available
          <i style="display:block;margin-top:.4em;" class="fa fa-frown-o fa-2x"></i>
        </h5>
        <img ng-if="lecture.preview && !preview.loading" src="{{lecture.preview}}" style="width:248px;height:248px;">
        <i ng-if="lecture.preview && lecture.preHover" class="fa fa-search-plus fa-5x" style="background-color:rgba(0,0,0,.2);height:100%;width:100%;text-align:center;padding:1.27em 0;top:0;left:0;position:absolute;"></i>

      </a>
      <div class="col-xs-12 col-sm-6 col-md-8 col-lg-9" style="position:relative;">
        <h3 class="" style="margin:.2em 0 0;">{{lecture.title}}
          <a href="#" ng-click="openUpdateModal(lecture._id)" class="text-warning">
            <i class="fa fa-pencil fa"></i>
          </a>
          <a href="#" ng-if="isMyLecture(lecture.author._id)" ng-click="openDeleteModal(lecture)" class="trash">
            <i class="fa fa-trash pull-right"></i>
          </a>
          <!-- <a href="#" ng-if="!isMyLecture(lecture.author._id)" ng-click="openRequestDeleteLectureModal(lecture)" class="trash">
            <span class="fa-stack pull-right">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-flag fa-stack-1x fa-inverse"></i>
            </span>
            <i class="fa fa-chain-broken pull-right"></i>
          </a> -->
        </h3>

        <hr class="lecture-title-hr">
        <h5 class="">Author:
          <a href="#" class="text-primary">{{lecture.author.name}}</a>
        </h5>
        <p style="word-wrap:break-word;">Description:
          {{lecture.desc}}</p>
        <h5 class="" ng-if="!_.isEmpty(lecture.collaborators)">Collaborators:
          <a href="#" class="text-primary" ng-repeat="collab in lecture.collaborators">{{collab.user.name}}
            <span ng-if="!$last">,</span>
          </a>
        </h5>
        <div style="position:absolute;bottom:-3em;left:.8em;" ng-if="!_.isEmpty(lecture.attachments)">
          <h5 ng-repeat="item in lecture.attachments" tooltip="{{item.filename}}" tooltip-trigger tooltip-animation="false" tooltip-placement="top" style="margin:0 .4em;text-decoration:none;display:inline-block;">
            <i class="fa fa-{{item.type}}-o fa-2x"></i>
          </h5>
        </div>
      </div>
    </div>
    <div ng-if="!$last" class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin:2em 0;">
      <hr class="resource-hr">
    </div>
  </div>
</div>
<!-- FOOTER -->
<div ng-include="'components/footer/footer.html'"></div>
<!-- /FOOTER -->